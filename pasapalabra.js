const questions = [

    [ {letter: "a", answer: "abducir", status: 0, question: "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien"},
    {letter: "a", answer : "alcachofa", status: 0, question: "CON LA A Planta comestible con tallos blancos y hojas verdes. También está en la ducha."},
    {letter: "a", answer : "agua", status: 0, question: "CON LA A Líquido que usamos para regar las plantas"}
],

[
    { letter: "b", answer: "bingo", status: 0, question: "CON LA B. Juego que ha sacado de quicio a todos los 'Skylabers' en las sesiones de precurso"},
    { letter: "b", answer: "bisilaba", status: 0, question: "CON LA B. Palabra que tiene dos sílabas"},
    { letter: "b", answer: "biografia", status: 0, question: "CON LA B. Contar la vida de una persona por escrito."},
],

[
    { letter: "c", answer: "churumbel", status: 0, question: "CON LA C. Niño, crío, bebé"},
    { letter: "c", answer: "camilla", status: 0, question: "CON LA C. Cama en la que se llevan de un lado a otro heridos o enfermo"},
    { letter: "c", answer: "comic", status: 0, question: "CON LA C Historia contada en viñetas con dibujos y palabras."},
],

[
    { letter: "d", answer: "dedicatoria", status: 0, question: "CON LA D. Palabras que se escriben y se dicen como regalo a alguien."},
    { letter: "d", answer: "deshojar", status: 0, question: "CON LA D Quitar las hojas de una planta o los pétalos de una flor."},
    { letter: "d", answer: "danzar", status: 0, question: "CON LA D Moverse al ritmo de una música"},
],

[
    { letter: "e", answer: "ectoplasma", status: 0, question: "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación"},
    { letter: "e", answer: "euro", status: 0, question: "CON LA E. Moneda de españa"},
    { letter: "e", answer: "encefalo", status: 0, question: "CON LA E. Conjunto de órganos que forman parte del sistema nervioso de los vertebrados"},
],

[
    {letter: "f", answer: "facil", status: 0, question: "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad"},
    { letter: "f", answer: "fotomontaje", status: 0, question: "CON LA F. Técnica que consiste en combinar dos o más fotografías para crear una nueva composición"},
    { letter: "f", answer: "faraon", status: 0, question: "CON LA F. Soberano del antiguo egipto"},
],

[
    { letter: "g", answer: "galaxia", status: 0, question: "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas"},
    { letter: "g", answer: "guion", status: 0, question: "CON LA G. Esquema escrito de un discurso, conferencia, tema, etc., que contiene los puntos o cuestiones que se van a tratar."},
    { letter: "g", answer: "grupo", status: 0, question: "CON LA G. Pluralidad de seres o cosas que forman un conjunto"},
],


[
    { letter: "h", answer: "huelga", status: 0, question: "CON LA H. Interrupción colectiva de la actividad laboral por parte de los trabajadores con el fin de reivindicar ciertas condiciones o manifestar una protesta."},
    { letter: "h", answer: "harakiri", status: 0, question: "CON LA H. Suicidio ritual japonés por desentrañamiento"},
    { letter: "h", answer: "huevo", status: 0, question: "CON LA H. Cuerpo redondeado, de tamaño y dureza variables, que producen las hembras de las aves o de otras especies animales"},
],
    
[
    { letter: "i", answer: "indulto", status: 0, question: "CON LA I. Gracia por la cual se remite total o parcialmente o se conmuta una pena."},
    { letter: "i", answer: "ilusion", status: 0, question: "CON LA I. Esperanza cuyo cumplimiento parece especialmente atractivo."},
    { letter: "i", answer: "inaccesible", status: 0, question: "CON LA I. No accesible"},
],

[
    { letter: "j", answer: "jerga", status: 0, question: "CON LA J. Lenguaje especial y no formal que usan entre sí los individuos de ciertas profesiones y oficios."},
    { letter: "j", answer: "jabalina", status: 0, question: "CON LA J. Arma, a manera de pica o venablo, que se usaba más comúnmente en la caza mayor, y actualmente en una modalidad deportiva."},
    { letter: "j", answer: "juego", status: 0, question: "CON LA J. Acción y efecto de jugar por entretenimiento."},
],

   
[
    { letter: "k", answer: "kiko", status: 0, question: "CON LA K. Grano de maíz tostado."},
    { letter: "k", answer: "kelvin", status: 0, question: "CON LA K.  Unidad de temperatura termodinámica del sistema internacional"},
    { letter: "k", answer: "kamikaze", status: 0, question: "CON LA K. Persona que lleva a cabo un atentado suicida."},
],

[
    { letter: "l", answer: "licantropo", status: 0, question: "CON LA L. Hombre lobo"},
    { letter: "l", answer: "losa", status: 0, question: "CON LA L.  Piedra llana y de poco grueso, casi siempre labrada, que sirve para solar y otros usos."},
    { letter: "l", answer: "letrado", status: 0, question: "CON LA L. Sabio, docto o instruido."},
],
    

[
    { letter: "m", answer: "mobiliario", status: 0, question: "CON LA M. Conjunto de muebles de una casa."},
    { letter: "m", answer: "macabro", status: 0, question: "CON LA M.  Dicho de una persona: Aficionada a cosas macabras."},
    { letter: "m", answer: "mirador", status: 0, question: "CON LA M. Que mira."},
],


[
    { letter: "n", answer: "nieto", status: 0, question: "CON LA N. Hijo del hijo de una persona."},
    { letter: "n", answer: "nuevo", status: 0, question: "CON LA N.  Recién hecho o fabricado."},
    { letter: "n", answer: "necesidad", status: 0, question: "CON LA N. Aquello a lo cual es imposible sustraerse, faltar o resistir."},
],
   
[
    { letter: "ñ", answer: "señal", status: 0, question: "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo."},
    { letter: "ñ", answer: "compañia", status: 0, question: "CON LA Ñ.  Antónimo de soledad."},
    { letter: "ñ", answer: "uña", status: 0, question: "CON LA Ñ. Revestimiento córneo del extremo de los dedos "},
],
   
[
    { letter: "o", answer: "orco", status: 0, question: "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien"},
    { letter: "o", answer: "organizacion", status: 0, question: "CON LA O.  Asociación de personas regulada por un conjunto de normas en función de determinados fines.."},
    { letter: "o", answer: "oscurecer", status: 0, question: "CON LA O. Reducir la cantidad de luz o claridad de algo"},
],

[
    { letter: "p", answer: "persona", status: 0, question: "CON LA P. Individuo de la especie humana."},
    { letter: "p", answer: "pacto", status: 0, question: "CON LA P.  Concierto o tratado entre dos o más partes que se comprometen a cumplir lo estipulado."},
    { letter: "p", answer: "posibilidad", status: 0, question: "CON LA P. Aptitud, potencia u ocasión para ser o existir algo."},
],

[
    { letter: "q", answer: "queso", status: 0, question: "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche"},
    { letter: "q", answer: "quebrado", status: 0, question: "CON LA Q. Otro nombre de los quebrados"},
    { letter: "q", answer: "quimera", status: 0, question: "CON LA Q. Monstruo imaginario con cabeza de león,cuerpo de cabra y cola de dragón. Ilusión,fantasía que se cree posible,pero que no lo es:"},
],

[
    { letter: "r", answer: "raton", status: 0, question: "CON LA R. Roedor"},
    { letter: "r", answer: "romeria", status: 0, question: "CON LA R. Fiesta popular que se celebra en el campo inmediato a alguna ermita o santuario"},
    { letter: "r", answer: "reciclar", status: 0, question: "CON LA R. Someter material usado a un proceso para que se pueda volver a utilizar."},
],

[
    { letter: "s", answer: "soltero", status: 0, question: "CON LA S. Que no está casado"},
    { letter: "s", answer: "subjuntivo", status: 0, question: "CON LA S. Modo verbal que expresa la acción del verbo con significación de duda, posibilidad o deseo"},
    { letter: "s", answer: "sereno", status: 0, question: "CON LA S. Dicho de una persona. Que no está bajo los efectos del alcohol"},
],

[
    { letter: "t", answer: "tertulia", status: 0, question: "CON LA T. Reunión de personas que se juntan habitualmente para conversar o recrearse."},
    { letter: "t", answer: "teatro", status: 0, question: "CON LA T. Edificio o sitio destinado a la representación de obras dramáticas o a otros espectáculos públicos propios de la escena."},
    { letter: "t", answer: "titular", status: 0, question: "CON LA T. Dicho de una persona: Que ejerce un cargo o una profesión con título o nombramiento oficiales."},
],

[
    { letter: "u", answer: "usado", status: 0, question: "CON LA U. Gastado y deslucido por el uso."},
    { letter: "u", answer: "ultimo", status: 0, question: "CON LA U. Que dentro de una serie no tiene nada detrás"},
    { letter: "u", answer: "union", status: 0, question: "CON LA U. Acción de unir o unirse"},
],

[
    { letter: "v", answer: "vikingos", status: 0, question: "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa"},
    { letter: "v", answer: "viaje", status: 0, question: "CON LA V. Recorrido o itinerario que se realiza para ir de un lugar a otro"},
    { letter: "v", answer: "vidente", status: 0, question: "CON LA V. Que tiene capacidad para ver"},
],

[
    { letter: "w", answer: "sandwich", status: 0, question: "CONTIENE LA W. Emparedado hecho con dos rebanadas de pan entre las cuales se coloca jamón y queso"},    
    { letter: "w", answer: "web", status: 0, question: "CON LA W. Red informática"},
    { letter: "w", answer: "newton", status: 0, question: "CONTIENE LA W.  Unidad de fuerza del sistema internacional"},
],


[
    { letter: "x", answer: "botox", status: 0, question: "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética"},
    { letter: "x", answer: "exacto", status: 0, question: "CONTIENE LA X. Igual o que se asemeja en un grado muy alto a algo o alguien que es tomado como modelo."},
    { letter: "x", answer: "expropiar", status: 0, question: "CONTIENE LA X.  Dicho de la Administración: Privar a una persona de la titularidad de un bien o de un derecho, dándole a cambio una indemnización. Se efectúa por motivos de utilidad pública o interés social previstos en las leyes."},
],
   
[
    { letter: "y", answer: "yo", status: 0, question: "CON LA Y. Forma que, en nominativo, designa a la persona que habla o escribe."},
    { letter: "y", answer: "yegua", status: 0, question: "CON LA Y. Hembra del caballo."},
    { letter: "y", answer: "yincana", status: 0, question: "CON LA Y  Competición de carácter lúdico en la que los equipos participantes deben superar una serie de pruebas y obstáculos a lo largo de un recorrido."},
],
    
[
    { letter: "z", answer: "zueco", status: 0, question: "CON LA Z. Zapato de madera de una pieza."},
    { letter: "z", answer: "zancada", status: 0, question: "CON LA Z. Paso largo"},
    { letter: "z", answer: "zarandear", status: 0, question: "CON LA Z. Agarrar a alguien por los hombros o los brazos moviéndolo con violencia."},
],
   
]

let preguntasJuego = [];

//status: 0 sin responder, 1 correcto, -1 incorrecto

//Listado ranking
let listaRanking = [
    {usuario: "Rocío", puntuacion: 15},
    {usuario: "Lucas", puntuacion: 9},
    {usuario: "Teresa", puntuacion: 17},
    {usuario: "Pedro", puntuacion: 11},

];


//Preguntas con las que se va a jugar la partida (CAMBIAR LA I)
function elegirPreguntas() {
    preguntasJuego = [] ; //cada vez que se eligen se vacía

for (let i=0; i<questions.length; i++ ) {
    preguntasJuego.push(Object.assign({},(questions[i][Math.floor(Math.random()*3)])));
}
}


//cadena sin tildes y en mayusculas
const removeAccents = (str) => {
    return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
  } 


//devuelve falso si el total no está aun listo, devuelve true si el total ya se ha calculado
function comprobarTotal() {
    let correctas=0;
    let incorrectas=0;
    for (let i=0; i<preguntasJuego.length; i++) {
        switch (preguntasJuego[i].status) {
            
            case 1: 
            correctas ++;
            break;
            case -1: 
            incorrectas ++;
            break;
            default: return false;
        }
    }
    let user = prompt("Introduce el nombre de usuario");
    if (user === null || user === "") user = "Invitado";
    listaRanking.push({usuario: user, puntuacion: correctas});
    alert(`Resultado final. Aciertos: ${correctas}  Fallos: ${incorrectas}`);
    return true;
}


function leerPregunta() {
    let correctas = 0;
    let incorrectas = 0;
    //Se leen todas las preguntas
    do 
    {
        for (let i=0; i<preguntasJuego.length; i++) {
        if (preguntasJuego[i].status === 0) {
    let respuesta = prompt(preguntasJuego[i].question);
    if (respuesta === null ) return;
    switch (removeAccents(respuesta.toUpperCase())) {
        case removeAccents(preguntasJuego[i].answer.toUpperCase()):
            alert('CORRECTO!');
            correctas ++;
            preguntasJuego[i].status = 1;
            break;
        case 'PASAPALABRA':
            break;
        case 'END':
            alert(`RESULTADO: Aciertos: ${correctas} Fallos: ${incorrectas}. 
            No se registra en el ranking por no haber terminado la partida`);
            return;
        default:
            incorrectas ++;
            preguntasJuego[i].status = -1; 
            alert(`ERROR: La respuesta correcta es: ${preguntasJuego[i].answer}`);
            break;
    }
    }
}
    } while(!comprobarTotal());
}



function iniciarPartida () {
    //Preguntas con las que vamos a jugar la partida
    elegirPreguntas();
    leerPregunta();
    console.log("Ha terminado la partida");
    //ORDENAR RANKING
    console.table(listaRanking.sort(function (a, b){
    return (b.puntuacion - a.puntuacion);
    }));

}

